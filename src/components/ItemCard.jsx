import { Link } from 'react-router-dom'
import React from 'react'
import '../styles/ItemCard.css'

const ItemCard = (game) => {
    let android, apple, nintendo, pc, playstation, xbox = false

    if (game.platforms != null) {
        game.platforms.forEach((plat) => {
            if (plat.platform.id == 4) {
                pc = true
            } else if (plat.platform.id == 187 || plat.platform.id == 18 || plat.platform.id == 16) {
                playstation = true
            } else if (plat.platform.id == 186 || plat.platform.id == 1 || plat.platform.id == 14) {
                xbox = true
            } else if (plat.platform.id == 7) {
                nintendo = true
            } else if (plat.platform.id == 3) {
                apple = true
            } else if (plat.platform.id == 21) {
                android = true
            }
        })
    }

    return (        
        <div className='item-card'>
            <Link to={'/game/' + game.slug} state={{id: game.id}}>
                <img src={game.image} alt={game.name} loading='lazy'/>
            </Link>

            <div className='bottom-card'>
                <div className='bc-top'>
                    <Link to={'/game/' + game.slug} state={{id: game.id}}>
                        <h2 className='game-title'>{game.name}</h2>
                    </Link>

                    <div className='icon-div'>
                        <svg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg' style={{display: (pc == true ? 'block' : 'none')}}>
                            <path d='M3 5.5485L10.1954 4.58174V11.6106L3.00672 11.6651L3 5.5485ZM10.1954 12.3909V19.4957L3.00571 18.5105L3.0053 12.3909H10.1954ZM11.1134 4.45599L20.9977 3V11.5334L11.1134 11.6106V4.45599ZM21 12.505L20.9977 21L11.1134 19.6466V12.505H21Z' fill='#c7d5e0'/>
                        </svg>

                        <svg xmlns='http://www.w3.org/2000/svg' viewBox='4.3 9.5 41.10000000000001 31' width='24' height='24' style={{display: (playstation == true ? 'block' : 'none')}}>
                            <path d='M5.8 32.1c-1.5 1-1 2.9 2.2 3.8 3.3 1.1 6.9 1.4 10.4.8.2 0 .4-.1.5-.1v-3.4l-3.4 1.1c-1.3.4-2.6.5-3.9.2-1-.3-.8-.9.4-1.4l6.9-2.4V27l-9.6 3.3c-1.2.4-2.4 1-3.5 1.8zm23.2-15v9.7c4.1 2 7.3 0 7.3-5.2 0-5.3-1.9-7.7-7.4-9.6C26 11 23 10.1 20 9.5v28.9l7 2.1V16.2c0-1.1 0-1.9.8-1.6 1.1.3 1.2 1.4 1.2 2.5zm13 12.7c-2.9-1-6-1.4-9-1.1-1.6.1-3.1.5-4.5 1l-.3.1v3.9l6.5-2.4c1.3-.4 2.6-.5 3.9-.2 1 .3.8.9-.4 1.4l-10 3.7V40L42 34.9c1-.4 1.9-.9 2.7-1.7.7-1 .4-2.4-2.7-3.4z' fill='#c7d5e0'/>
                        </svg>

                        <svg xmlns='http://www.w3.org/2000/svg' height='24' width='24' viewBox='-12.90591 -21.521775 111.85122 129.13065' style={{display: (xbox == true ? 'block' : 'none')}}>
                            <path d='M38.7297 85.9103c-6.628-.635-13.338-3.015-19.102-6.776-4.83-3.15-5.92-4.447-5.92-7.032 0-5.193 5.71-14.29 15.48-24.658 5.547-5.89 13.275-12.79 14.11-12.604 1.626.363 14.616 13.034 19.48 19 7.69 9.43 11.224 17.154 9.428 20.597-1.365 2.617-9.837 7.733-16.06 9.698-5.13 1.62-11.867 2.306-17.416 1.775zm-31.546-19.207c-4.014-6.158-6.042-12.22-7.02-20.988-.324-2.895-.21-4.55.733-10.494 1.173-7.4 5.39-15.97 10.46-21.24 2.158-2.24 2.35-2.3 4.982-1.41 3.19 1.08 6.6 3.436 11.89 8.22l3.09 2.794-1.69 2.07c-7.828 9.61-16.09 23.24-19.2 31.67-1.69 4.58-2.37 9.18-1.64 11.095.49 1.294.04.812-1.61-1.714zm70.453 1.047c.397-1.936-.105-5.49-1.28-9.076-2.545-7.765-11.054-22.21-18.867-32.032l-2.46-3.092 2.662-2.443c3.474-3.19 5.886-5.1 8.49-6.723 2.053-1.28 4.988-2.413 6.25-2.413.777 0 3.516 2.85 5.726 5.95 3.424 4.8 5.942 10.63 7.218 16.69.825 3.92.894 12.3.133 16.21-.63 3.208-1.95 7.366-3.23 10.187-.97 2.113-3.36 6.218-4.41 7.554-.54.687-.54.686-.24-.796zm-38.197-57.245c-3.606-1.83-9.168-3.795-12.24-4.325-1.076-.185-2.913-.29-4.08-.23-2.536.128-2.423-.004 1.643-1.925 3.38-1.597 6.2-2.536 10.03-3.34 4.305-.905 12.4-.915 16.637-.022 4.575.965 9.964 2.97 13 4.84l.904.554-2.07-.104c-4.116-.208-10.114 1.455-16.554 4.587-1.942.946-3.63 1.7-3.754 1.68-.123-.024-1.706-.795-3.52-1.715z' fill='#c7d5e0'/>
                        </svg>

                        <svg xmlns='http://www.w3.org/2000/svg' height='24' width='24' viewBox='0 0 21 16' style={{display: (nintendo == true ? 'block' : 'none')}}>
                            <path d='M8 0h5a8 8 0 110 16H8A8 8 0 118 0zm-.135 1.935a6.065 6.065 0 000 12.13h5.12a6.065 6.065 0 000-12.13h-5.12zm-1.33 2.304h2.401l3.199 5.175V4.24h2.346v7.495H12.18L8.864 6.537v5.201H6.53l.005-7.499z' fill='#c7d5e0'></path>
                        </svg>

                        <svg xmlns='http://www.w3.org/2000/svg' height='24' width='24' viewBox='0 0 24 24' style={{display: (apple == true ? 'block' : 'none')}}>
                            <path d='M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z' fill='#c7d5e0'></path>
                        </svg>

                        <svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 16 18' style={{display: (android == true ? 'block' : 'none')}}>
                            <path d='M1.168 5.86H1.12c-.614 0-1.115.482-1.115 1.07v4.665c0 .59.5 1.071 1.115 1.071h.049c.614 0 1.115-.482 1.115-1.071V6.93c0-.589-.502-1.072-1.116-1.072zm1.65 7.535c0 .541.46.983 1.025.983h1.095v2.519c0 .591.503 1.073 1.116 1.073h.048c.615 0 1.116-.482 1.116-1.073v-2.52H8.75v2.52c0 .591.504 1.073 1.117 1.073h.047c.615 0 1.116-.482 1.116-1.073v-2.52h1.096c.564 0 1.025-.44 1.025-.982V6.03H2.818v7.364zm7.739-11.83l.87-1.29a.173.173 0 00-.054-.246.188.188 0 00-.256.052l-.902 1.335A6.092 6.092 0 007.985 1a6.1 6.1 0 00-2.232.416L4.853.08a.19.19 0 00-.257-.05.173.173 0 00-.055.246l.871 1.29c-1.57.739-2.628 2.131-2.628 3.729 0 .098.006.195.015.29H13.17c.009-.095.014-.192.014-.29 0-1.598-1.059-2.99-2.628-3.73zM5.58 3.875a.489.489 0 01-.5-.48c0-.265.224-.478.5-.478.277 0 .5.213.5.478a.489.489 0 01-.5.48zm4.809 0a.489.489 0 01-.5-.48c0-.265.224-.478.5-.478s.498.213.498.478a.488.488 0 01-.498.48zm4.458 1.985h-.046c-.614 0-1.117.482-1.117 1.07v4.665c0 .59.503 1.071 1.117 1.071h.047c.615 0 1.115-.482 1.115-1.071V6.93c0-.589-.501-1.072-1.116-1.072z' fill='#c7d5e0'></path>
                        </svg>
                    </div>

                    <h4 style={{display: game.rating_top === 0 ? 'none' : 'block'}} className={'game-rating ' + (game.rating / game.rating_top > .7 ? 'good' : game.rating / game.rating_top > .4 ? 'average' : game.rating > 0 ? 'bad' : '')}>{game.rating} / {game.rating_top}</h4>
                </div>
            </div>
        </div>
    )
}

export default ItemCard